import type { FormulaItem } from "@/components/visuals/FormulaQuickRef";

export const week10Formulas: FormulaItem[] = [
  {
    name: "現行匯率法的換算規則",
    formula: "資產/負債 → S_T（期末） | 股本 → S_H（歷史） | 損益 → S̄（平均） | 差額 → CTA（進 OCI）",
    description: "適用於功能貨幣 = 外幣的子公司。所有資產和負債用期末匯率換算，股東權益中的投入資本用歷史匯率，損益表項目用平均匯率。因為用不同匯率，兩邊不平衡——差額就是 CTA。",
  },
  {
    name: "現行匯率法的曝險金額",
    formula: "曝險 = 淨資產 = 總資產 − 總負債",
    description: "淨資產為正，外幣貶值 → CTA 為負（換算損失）。淨資產越大，曝險越大。",
    example: "東京店淨資產 20,000 千 JPY，日圓貶值 → CTA = 20,000 × (0.208 − 0.233) = −500 千 TWD",
  },
  {
    name: "時態法的換算規則",
    formula: "貨幣性 → S_T | 非貨幣性 → S_H | COGS/折舊 → S_H | 其餘損益 → S̄ | 差額 → 損益表",
    description: "適用於功能貨幣 = 母公司貨幣的子公司。按資產的計價基礎選匯率：現金、應收等貨幣性項目用期末匯率；存貨、設備等非貨幣性項目用歷史匯率。差額直接影響 EPS。",
  },
  {
    name: "時態法的曝險金額",
    formula: "曝險 = 淨貨幣性資產 = 貨幣性資產 − 貨幣性負債",
    description: "淨貨幣性資產為負（負債大於資產）時，外幣貶值反而產生利得。這就是同一家公司在不同方法下結果相反的原因。",
    example: "東京店：7,000 − 10,000 = −3,000 → 利得 = (−3,000) × (−0.025) = +75 千 TWD",
  },
  {
    name: "CTA 的簡化計算",
    formula: "CTA = 淨資產 × (S_T − S_H)",
    description: "CTA 是現行匯率法下，因為對資產負債和股東權益使用不同匯率而產生的差額。列入其他綜合損益（OCI），不影響當期損益表。",
    example: "CTA = 20,000 × (0.208 − 0.233) = −500 千 TWD",
  },
  {
    name: "資產負債表避險",
    formula: "避險後 CTA = 新淨資產 × (S_T − S_H)",
    description: "透過增加當地借款或減少當地資產，使淨資產降低，從而減小 CTA。代價是增加利息成本和可能的交易曝險。",
    example: "多借 10,000 並匯回母公司 → 新淨資產 10,000 → CTA = 10,000 × (−0.025) = −250（減半）",
  },
];
